import{r as g,a as v,b as y,d as r}from"./index-D63cc4uB.js";import{q as n,u as f,z as c,t as A,M as w,y as C,A as I}from"./firebase-wjis4Syq.js";import{c as U}from"./useDebug-BhBm4-hj.js";import{v as h}from"./Panel-DVkFA_N1.js";const S=(...t)=>{const{addOption:s,removeOption:a}=U(),[u,p]=g.useState(!1),m=()=>{p(o=>!o),t.forEach(o=>o())},b=async()=>{const o=prompt("New Group Name");if(o===""||!o)return alert("Please enter a name for the group");const d=h(),e=y.currentUser.uid,i=h(),D=n(r,`groups/${d}`),l=n(r,`groupMembers/${y.currentUser.uid}_${d}`),M=n(r,`groupSettings/${d}`);f(M,{inviteKey:i}),f(D,{createdAt:C(),inviteKey:i,name:o,memberUids:[e],members:{[e]:{displayName:"Kyle",linkedUid:e}}}),c(D,{inviteKey:I()}),await f(l,{userId:e,groupId:d,inviteKey:i}),c(l,{inviteKey:I()}),m()};g.useEffect(()=>(s("Add Group",b),()=>{a("Add Group")}),[])},x=()=>{const{group:t}=v(),{addOption:s,removeOption:a}=U(),u=async()=>{const e=n(r,"groups",t),l={name:"CWDB",memberUids:[...(await A(e)).data()?.memberUids],members:{testUser:{displayName:"Kyle",linkedUid:y.currentUser.uid,photoUrl:"https://i.pinimg.com/1200x/97/47/02/9747029215bbd5677b8114e43b7c9589.jpg"},testIdA:{displayName:"Julian",photoUrl:"https://i.pinimg.com/736x/a2/a6/e1/a2a6e13821ad970f0790054db790cff1.jpg"},testIdB:{displayName:"Marlon",photoUrl:"https://i.pinimg.com/736x/f8/23/31/f82331683e3c17da6b6498475d3c1888.jpg"},testIdC:{displayName:"Jayni",photoUrl:"https://i.pinimg.com/736x/1c/4b/c4/1c4bc411f32787cdef1490f396089225.jpg"}},balance:{testUser:{testIdB:0,testIdA:0},testIdB:{testUser:150,testIdA:0},testIdA:{testUser:200,testIdB:50},testIdC:{testIdA:100}}};await c(e,{...l})},p=async()=>{const e=n(r,"groups",t);await c(e,{balance:I()})},m=async()=>{const e=n(r,"groups",t);await c(e,{"balance.testUser.testIdB":w(-50)})},b=async()=>{const e=n(r,"groups",t);await c(e,{"balance.testUser.testIdB":w(50)})},o=async()=>{const e=n(r,"groups",t),i=await A(e);console.log(i.data())};g.useEffect(()=>(s("Add Dummy Data",u),s("Clear All Data",p),s("Add Debt -> Marlon",m),s("Add Lent -> Marlon",b),s("View Group Data",o),d),[]);function d(){a("Add Dummy Data"),a("Clear All Data"),a("Add Debt -> Marlon"),a("Add Lent -> Marlon"),a("View Group Data")}return d};function z({setSplitType:t,setItemizedData:s}){const{addOption:a,removeOption:u}=U(),p=()=>{const m=[{amount:8e3,description:"Dumplings",payingMembers:new Set(["testUser","testIdA","testIdB","testIdC"])},{amount:19e3,description:"Chicken Teriyaki",payingMembers:new Set(["testUser","testIdC"])},{amount:21e3,description:"Kuro Ramen",payingMembers:new Set(["testIdA"])},{amount:2e4,description:"Shiro Ramen",payingMembers:new Set(["testIdB"])}];t("itemized"),console.log("test"),s(m)};g.useEffect(()=>(a("Create Itemized Data",p),()=>{u("Create Itemized Data")}),[])}export{x as a,z as b,S as u};
